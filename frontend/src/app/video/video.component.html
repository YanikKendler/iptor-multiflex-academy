<div class="header">
  <app-play-icon color="{{video.color}}"></app-play-icon>
  <h2>{{ video.title }}</h2>
  <div class="actions">
    @if(removable){
      <app-icon-button (click)="removeSuggestion($event)">
        <app-remove-icon></app-remove-icon>
      </app-icon-button>
    }
    <app-icon-button (click)="addToBookmarks($event)">
      <app-bookmark-icon #bookmark></app-bookmark-icon>
    </app-icon-button>
  </div>
</div>

@if(video.viewProgress){
  <div class="progress-bar">
    <span
      [style.width.%]="video.viewProgress.durationSeconds / this.video.durationSeconds * 100"
      [style.background-color]="video.color"
    ></span>
  </div>
}

<div class="main">
  <p>{{video.description}}</p>

  <div class="bottom">
    <div class="tags"
         matTooltip="{{ toolTipString }}"
         matTooltipShowDelay="500"
    >
      @for (tag of video.tags; track tag) {
        <app-chip>{{ tag.name }}</app-chip>
      }
    </div>
    <p>
      @if(video.viewProgress){
        {{Utils.toSmartTimeString(video.viewProgress.durationSeconds * 1000)}} of
      }
      {{Utils.toSmartTimeString(video.durationSeconds * 1000)}}
    </p>
  </div>
</div>
